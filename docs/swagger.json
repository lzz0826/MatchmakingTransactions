{
    "swagger": "2.0",
    "info": {
        "description": "股票撮合系統",
        "title": "TradeMatching",
        "contact": {
            "name": "tony"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:8081",
    "paths": {
        "/tradeMatching/buyOrder": {
            "post": {
                "description": "用戶提交買單 (限價單LIMIT_PRICE / 市價單MARKET_PRICE)，建立交易訂單",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trade"
                ],
                "summary": "買單下單",
                "parameters": [
                    {
                        "description": "買單請求",
                        "name": "order",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/req.BuyOrderReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "下單成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/tool.BaseResp"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/server.ExchangeOrder"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/tradeMatching/buyOrderCancel": {
            "post": {
                "description": "用戶提交買單取消 (限價單)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trade"
                ],
                "summary": "買單取消",
                "parameters": [
                    {
                        "description": "取消買單請求",
                        "name": "order",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/req.BuyOrderCancelReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "取消成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/tool.BaseResp"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/rep.BuyOrderRep"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/tradeMatching/checkQueueMap": {
            "get": {
                "description": "根據 direction (BUY/SELL) 檢查買單或賣單簿",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trade"
                ],
                "summary": "檢查買賣簿",
                "parameters": [
                    {
                        "enum": [
                            "BUY",
                            "SELL"
                        ],
                        "type": "string",
                        "description": "訂單方向 (BUY / SELL)",
                        "name": "direction",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "查詢成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/tool.BaseResp"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/server.QueueInfo"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/tradeMatching/sellOrder": {
            "post": {
                "description": "用戶提交買單 (限價單LIMIT_PRICE / 市價單MARKET_PRICE)，建立交易訂單",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trade"
                ],
                "summary": "賣單下單",
                "parameters": [
                    {
                        "description": "賣單請求",
                        "name": "order",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/req.SellOrderReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "下單成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/tool.BaseResp"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/server.ExchangeOrder"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/tradeMatching/sellOrderCancel": {
            "post": {
                "description": "用戶提交賣單取消 (限價單)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trade"
                ],
                "summary": "賣單取消",
                "parameters": [
                    {
                        "description": "取消買單請求",
                        "name": "order",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/req.SellOrderCancelReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "取消成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/tool.BaseResp"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/rep.SellOrderRep"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "enum.BaseSymbol": {
            "type": "string",
            "enum": [
                "USDT",
                "USD",
                "BUSD"
            ],
            "x-enum-varnames": [
                "BaseUSDT",
                "BaseUSD",
                "BaseBUSD"
            ]
        },
        "enum.CoinSymbol": {
            "type": "string",
            "enum": [
                "BTC",
                "ETH",
                "BNB",
                "ADA",
                "SOL"
            ],
            "x-enum-varnames": [
                "CoinBTC",
                "CoinETH",
                "CoinBNB",
                "CoinADA",
                "CoinSOL"
            ]
        },
        "enum.ExchangeOrderDirection": {
            "type": "string",
            "enum": [
                "BUY",
                "SELL"
            ],
            "x-enum-varnames": [
                "BUY",
                "SELL"
            ]
        },
        "enum.ExchangeOrderStatus": {
            "type": "string",
            "enum": [
                "TRADING",
                "PARTIAL_COMPLETED",
                "COMPLETED",
                "PARTIAL_CANCELED",
                "CANCELED",
                "REJECTED",
                "OVERTIMED"
            ],
            "x-enum-comments": {
                "CANCELED": "完全取消",
                "COMPLETED": "完全成交",
                "OVERTIMED": "超時",
                "PARTIAL_CANCELED": "部分取消",
                "PARTIAL_COMPLETED": "部分成交",
                "REJECTED": "訂單被拒",
                "TRADING": "交易中"
            },
            "x-enum-descriptions": [
                "交易中",
                "部分成交",
                "完全成交",
                "部分取消",
                "完全取消",
                "訂單被拒",
                "超時"
            ],
            "x-enum-varnames": [
                "TRADING",
                "PARTIAL_COMPLETED",
                "COMPLETED",
                "PARTIAL_CANCELED",
                "CANCELED",
                "REJECTED",
                "OVERTIMED"
            ]
        },
        "enum.ExchangeOrderType": {
            "type": "string",
            "enum": [
                "MARKET_PRICE",
                "LIMIT_PRICE"
            ],
            "x-enum-comments": {
                "LIMIT_PRICE": "限價 限價單是指投資人設定一個特定的價格，只有在市場價格達到或優於該價格時才會成交。",
                "MARKET_PRICE": "市價 市價單則是指不指定價格，以當時市場上的最佳價格立即成交。"
            },
            "x-enum-descriptions": [
                "市價 市價單則是指不指定價格，以當時市場上的最佳價格立即成交。",
                "限價 限價單是指投資人設定一個特定的價格，只有在市場價格達到或優於該價格時才會成交。"
            ],
            "x-enum-varnames": [
                "MARKET_PRICE",
                "LIMIT_PRICE"
            ]
        },
        "enum.Symbol": {
            "type": "string",
            "enum": [
                "BTC/USDT",
                "ETH/USDT",
                "BNB/USDT",
                "ADA/USDT",
                "SOL/USDT"
            ],
            "x-enum-varnames": [
                "SymbolBTCUSDT",
                "SymbolETHUSDT",
                "SymbolBNBUSDT",
                "SymbolADAUSDT",
                "SymbolSOLUSDT"
            ]
        },
        "rep.BuyOrderRep": {
            "type": "object"
        },
        "rep.SellOrderRep": {
            "type": "object"
        },
        "req.BuyOrderCancelReq": {
            "type": "object",
            "required": [
                "direction",
                "memberId",
                "orderId",
                "price"
            ],
            "properties": {
                "direction": {
                    "description": "訂單方向",
                    "type": "string",
                    "example": "SELL"
                },
                "memberId": {
                    "description": "會員號",
                    "type": "integer",
                    "example": 10001
                },
                "orderId": {
                    "description": "撮合訂單號",
                    "type": "string",
                    "example": "SELL100011755067521826"
                },
                "price": {
                    "description": "挂单价格",
                    "type": "number",
                    "example": 30000
                }
            }
        },
        "req.BuyOrderReq": {
            "type": "object",
            "required": [
                "amount",
                "coinSymbol",
                "direction",
                "memberId",
                "symbol",
                "type"
            ],
            "properties": {
                "amount": {
                    "description": "买入或卖出量，对于市价买入单表",
                    "type": "number",
                    "example": 5
                },
                "coinSymbol": {
                    "description": "币单位",
                    "type": "string",
                    "example": "BTC"
                },
                "direction": {
                    "description": "訂單方向",
                    "type": "string",
                    "example": "BUY"
                },
                "memberId": {
                    "description": "會員號",
                    "type": "integer",
                    "example": 10001
                },
                "price": {
                    "description": "挂单价格",
                    "type": "number",
                    "example": 1
                },
                "symbol": {
                    "description": "交易符號",
                    "type": "string",
                    "example": "BTC/USDT"
                },
                "type": {
                    "description": "掛單類型 MARKET_PRICE LIMIT_PRICE",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.ExchangeOrderType"
                        }
                    ],
                    "example": "LIMIT_PRICE"
                }
            }
        },
        "req.SellOrderCancelReq": {
            "type": "object",
            "required": [
                "direction",
                "memberId",
                "orderId",
                "price"
            ],
            "properties": {
                "direction": {
                    "description": "訂單方向",
                    "type": "string",
                    "example": "BUY"
                },
                "memberId": {
                    "description": "會員號",
                    "type": "integer",
                    "example": 10001
                },
                "orderId": {
                    "description": "撮合訂單號",
                    "type": "string",
                    "example": "BUY100011755067160543"
                },
                "price": {
                    "description": "挂单价格",
                    "type": "number",
                    "example": 30000
                }
            }
        },
        "req.SellOrderReq": {
            "type": "object",
            "required": [
                "amount",
                "coinSymbol",
                "direction",
                "memberId",
                "symbol",
                "type"
            ],
            "properties": {
                "amount": {
                    "description": "买入或卖出量，对于市价买入单表",
                    "type": "number",
                    "example": 5
                },
                "coinSymbol": {
                    "description": "币单位",
                    "type": "string",
                    "example": "BTC"
                },
                "direction": {
                    "description": "訂單方向",
                    "type": "string",
                    "example": "BUY"
                },
                "memberId": {
                    "description": "會員號",
                    "type": "integer",
                    "example": 10001
                },
                "price": {
                    "description": "挂单价格",
                    "type": "number"
                },
                "symbol": {
                    "description": "交易符號",
                    "type": "string",
                    "example": "BTC/USDT"
                },
                "type": {
                    "description": "掛單類型 MARKET_PRICE LIMIT_PRICE",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.ExchangeOrderType"
                        }
                    ],
                    "example": "LIMIT_PRICE"
                }
            }
        },
        "server.ExchangeOrder": {
            "type": "object",
            "properties": {
                "amount": {
                    "description": "买入或卖出量，对于市价买入单表",
                    "type": "number"
                },
                "basesSymbol": {
                    "description": "结算单位",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.BaseSymbol"
                        }
                    ]
                },
                "canceledTime": {
                    "description": "取消时间",
                    "type": "string"
                },
                "coinSymbol": {
                    "description": "币单位",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.CoinSymbol"
                        }
                    ]
                },
                "completedTime": {
                    "description": "交易完成时间",
                    "type": "string"
                },
                "direction": {
                    "description": "订单方向",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.ExchangeOrderDirection"
                        }
                    ]
                },
                "memberId": {
                    "description": "會員號",
                    "type": "integer"
                },
                "orderId": {
                    "description": "撮合訂單號",
                    "type": "string"
                },
                "price": {
                    "description": "挂单价格",
                    "type": "number"
                },
                "status": {
                    "description": "订单状态",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.ExchangeOrderStatus"
                        }
                    ]
                },
                "symbol": {
                    "description": "交易符號",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.Symbol"
                        }
                    ]
                },
                "time": {
                    "description": "挂单时间",
                    "type": "string"
                },
                "tradedAmount": {
                    "description": "成交量",
                    "type": "number"
                },
                "turnover": {
                    "description": "成交額 對市價買賣有用",
                    "type": "number"
                },
                "type": {
                    "description": "掛單類型",
                    "allOf": [
                        {
                            "$ref": "#/definitions/enum.ExchangeOrderType"
                        }
                    ]
                },
                "useDiscount": {
                    "description": "是否使用折扣 0 不使用 1使用",
                    "type": "string"
                }
            }
        },
        "server.MergeOrder": {
            "type": "object"
        },
        "server.QueueInfo": {
            "type": "object",
            "properties": {
                "merge": {
                    "description": "該價位的合併掛單",
                    "allOf": [
                        {
                            "$ref": "#/definitions/server.MergeOrder"
                        }
                    ]
                },
                "orders": {
                    "description": "該價位所有訂單",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/server.ExchangeOrder"
                    }
                },
                "price": {
                    "description": "賣價",
                    "type": "number"
                }
            }
        },
        "tool.BaseResp": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {},
                "message": {
                    "type": "string"
                }
            }
        }
    }
}